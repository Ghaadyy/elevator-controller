<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elevator Controller: firmware/src/api/elevator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Elevator Controller<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">An elevator controller firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('elevator_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">elevator.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The scheduler for the elevator.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">../main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="elevator_8h_source.html">elevator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="scheduler_8h_source.html">../sched/scheduler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="motor_8h_source.html">motor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="floor_8h_source.html">floor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="queue_8h_source.html">queue.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for elevator.c:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c__incl.png" border="0" usemap="#afirmware_2src_2api_2elevator_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqueue.html">queue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a895b7d0931c9f9873729a50501b41652" id="r_a895b7d0931c9f9873729a50501b41652"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#a895b7d0931c9f9873729a50501b41652">STOP_RATE</a>&#160;&#160;&#160;(10)</td></tr>
<tr class="separator:a895b7d0931c9f9873729a50501b41652"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa8acf648f3b0c69d7e132fcc61dc58c7" id="r_aa8acf648f3b0c69d7e132fcc61dc58c7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structqueue.html">queue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a></td></tr>
<tr class="separator:aa8acf648f3b0c69d7e132fcc61dc58c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb35f6fa4f53b683e76b07e5322ac037" id="r_acb35f6fa4f53b683e76b07e5322ac037"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#acb35f6fa4f53b683e76b07e5322ac037">add_to_q_fn</a>) (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> <a class="el" href="floor_8h.html#a250196cf5b65cd539f5c70a40927f499">floor</a>)</td></tr>
<tr class="separator:acb35f6fa4f53b683e76b07e5322ac037"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a09e7f1ddea08ce376fc9f89d544ada" id="r_a4a09e7f1ddea08ce376fc9f89d544ada"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#a4a09e7f1ddea08ce376fc9f89d544ada">elevator_scheduler</a> (<a class="el" href="scheduler_8h.html#a2f698ca92b3c2afe85cf2546cc43a220">s_task_handle_t</a> me, <a class="el" href="scheduler_8h.html#a2a69546ed98cb94a52baf9a4421e65b2">s_task_msg_t</a> **msg, void *arg)</td></tr>
<tr class="memdesc:a4a09e7f1ddea08ce376fc9f89d544ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule and determine the next floor for the elevator to go to.  <br /></td></tr>
<tr class="separator:a4a09e7f1ddea08ce376fc9f89d544ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6de81e1d93d36fee2b97f234082bc1" id="r_aca6de81e1d93d36fee2b97f234082bc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#aca6de81e1d93d36fee2b97f234082bc1">reorder_q</a> (<a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> *q, <a class="el" href="elevator_8c.html#acb35f6fa4f53b683e76b07e5322ac037">add_to_q_fn</a> add_to_q)</td></tr>
<tr class="memdesc:aca6de81e1d93d36fee2b97f234082bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorders a queue.  <br /></td></tr>
<tr class="separator:aca6de81e1d93d36fee2b97f234082bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28bd04de895930003c7ff9cb99a80be" id="r_ac28bd04de895930003c7ff9cb99a80be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#ac28bd04de895930003c7ff9cb99a80be">add_to_up_q</a> (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> dst_floor)</td></tr>
<tr class="memdesc:ac28bd04de895930003c7ff9cb99a80be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a floor to the up queue.  <br /></td></tr>
<tr class="separator:ac28bd04de895930003c7ff9cb99a80be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7591b9779803fca7697b74a7270427d7" id="r_a7591b9779803fca7697b74a7270427d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#a7591b9779803fca7697b74a7270427d7">add_to_down_q</a> (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> dst_floor)</td></tr>
<tr class="memdesc:a7591b9779803fca7697b74a7270427d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a floor to the down queue.  <br /></td></tr>
<tr class="separator:a7591b9779803fca7697b74a7270427d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3c9c97ecd69cf34a393f9261efc0af" id="r_afc3c9c97ecd69cf34a393f9261efc0af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#afc3c9c97ecd69cf34a393f9261efc0af">init_elevator_scheduler</a> (void)</td></tr>
<tr class="memdesc:afc3c9c97ecd69cf34a393f9261efc0af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the elevator scheduler's task.  <br /></td></tr>
<tr class="separator:afc3c9c97ecd69cf34a393f9261efc0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82da63712fcbe1eeac950a3c54205042" id="r_a82da63712fcbe1eeac950a3c54205042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#a82da63712fcbe1eeac950a3c54205042">add_cabin_request</a> (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> dst_floor)</td></tr>
<tr class="memdesc:a82da63712fcbe1eeac950a3c54205042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a request coming from the cabin floor to the appropriate queue based on the destination floor's position relative to the current floor.  <br /></td></tr>
<tr class="separator:a82da63712fcbe1eeac950a3c54205042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03b23edea47f01c3e4247b4d462ebcd" id="r_ab03b23edea47f01c3e4247b4d462ebcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#ab03b23edea47f01c3e4247b4d462ebcd">add_floor_request</a> (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> dst_floor, <a class="el" href="motor_8h.html#ab6b5c4d749e234ba2e7eada4203f444b">direction_t</a> dir)</td></tr>
<tr class="memdesc:ab03b23edea47f01c3e4247b4d462ebcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a request coming externally from a floor. This request can be to go up or down.  <br /></td></tr>
<tr class="separator:ab03b23edea47f01c3e4247b4d462ebcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adcdeec98d71348ec1c46d9b2e514db79" id="r_adcdeec98d71348ec1c46d9b2e514db79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#adcdeec98d71348ec1c46d9b2e514db79">down_q</a> = {NULL, NULL}</td></tr>
<tr class="separator:adcdeec98d71348ec1c46d9b2e514db79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209c92137c3cd525575c520defe4b59d" id="r_a209c92137c3cd525575c520defe4b59d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="elevator_8c.html#a209c92137c3cd525575c520defe4b59d">up_q</a> = {NULL, NULL}</td></tr>
<tr class="separator:a209c92137c3cd525575c520defe4b59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The scheduler for the elevator. </p>
<dl class="section author"><dt>Author</dt><dd>Ghady Youssef (<a href="#" onclick="location.href='mai'+'lto:'+'gha'+'dy'+'yi@'+'gm'+'ail'+'.c'+'om'; return false;">ghady<span class="obfuscator">.nosp@m.</span>yi@g<span class="obfuscator">.nosp@m.</span>mail.<span class="obfuscator">.nosp@m.</span>com</a>) </dd>
<dd>
Antoine Karam (<a href="#" onclick="location.href='mai'+'lto:'+'ant'+'oi'+'nek'+'ar'+'am1'+'41'+'4@g'+'ma'+'il.'+'co'+'m'; return false;">antoi<span class="obfuscator">.nosp@m.</span>neka<span class="obfuscator">.nosp@m.</span>ram14<span class="obfuscator">.nosp@m.</span>14@g<span class="obfuscator">.nosp@m.</span>mail.<span class="obfuscator">.nosp@m.</span>com</a>) </dd></dl>
<p>Contains a scheduler for picking the next target floor the elevator has to go to. It stores two queues: one for those that want to go up, one for those that want to go down.</p>
<p><b>Elementary algorithm</b></p><ul>
<li>When the elevator is <b>completely</b> idle, it is free to go in any direction.</li>
<li>When the elevator is going in a direction, it must preserve this direction until the respective queues becomes empty.</li>
</ul>
<p><b>Reordering the queues</b> When we reach the destination (the top of the queue) and dequeue it, we have to reorder both queues to ensure the invariant of the <code>queue_t</code>'s first and second are preserved. That is, the first part contains the floors which are (resp. below, above) the current floor for the (resp. down, up) queues and the second part contains the floors which are (resp. above, below) the cabin floor for the (resp. down, up) queue.</p>
<dl class="section version"><dt>Version</dt><dd>0.2 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-12-29</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2024 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a895b7d0931c9f9873729a50501b41652" name="a895b7d0931c9f9873729a50501b41652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895b7d0931c9f9873729a50501b41652">&#9670;&#160;</a></span>STOP_RATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STOP_RATE&#160;&#160;&#160;(10)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="acb35f6fa4f53b683e76b07e5322ac037" name="acb35f6fa4f53b683e76b07e5322ac037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb35f6fa4f53b683e76b07e5322ac037">&#9670;&#160;</a></span>add_to_q_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* add_to_q_fn) (<a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a> <a class="el" href="floor_8h.html#a250196cf5b65cd539f5c70a40927f499">floor</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The rate at which the scheduler will stop dispatching floors when a dequeue event happens. </p>

</div>
</div>
<a id="aa8acf648f3b0c69d7e132fcc61dc58c7" name="aa8acf648f3b0c69d7e132fcc61dc58c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8acf648f3b0c69d7e132fcc61dc58c7">&#9670;&#160;</a></span>queue_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structqueue.html">queue</a> <a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a82da63712fcbe1eeac950a3c54205042" name="a82da63712fcbe1eeac950a3c54205042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82da63712fcbe1eeac950a3c54205042">&#9670;&#160;</a></span>add_cabin_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_cabin_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a>&#160;</td>
          <td class="paramname"><em>dst_floor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a request coming from the cabin floor to the appropriate queue based on the destination floor's position relative to the current floor. </p>
<p>Processes a request incoming from inside the cabin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_floor</td><td>The destination floor. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a82da63712fcbe1eeac950a3c54205042_cgraph.png" border="0" usemap="#aelevator_8c_a82da63712fcbe1eeac950a3c54205042_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a82da63712fcbe1eeac950a3c54205042_icgraph.png" border="0" usemap="#aelevator_8c_a82da63712fcbe1eeac950a3c54205042_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ab03b23edea47f01c3e4247b4d462ebcd" name="ab03b23edea47f01c3e4247b4d462ebcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03b23edea47f01c3e4247b4d462ebcd">&#9670;&#160;</a></span>add_floor_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_floor_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a>&#160;</td>
          <td class="paramname"><em>dst_floor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="motor_8h.html#ab6b5c4d749e234ba2e7eada4203f444b">direction_t</a>&#160;</td>
          <td class="paramname"><em>dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a request coming externally from a floor. This request can be to go up or down. </p>
<p>Processes a request incoming from a floor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_floor</td><td>The destination floor. </td></tr>
    <tr><td class="paramname">dir</td><td>The direction desired by the request. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_ab03b23edea47f01c3e4247b4d462ebcd_cgraph.png" border="0" usemap="#aelevator_8c_ab03b23edea47f01c3e4247b4d462ebcd_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_ab03b23edea47f01c3e4247b4d462ebcd_icgraph.png" border="0" usemap="#aelevator_8c_ab03b23edea47f01c3e4247b4d462ebcd_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a7591b9779803fca7697b74a7270427d7" name="a7591b9779803fca7697b74a7270427d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7591b9779803fca7697b74a7270427d7">&#9670;&#160;</a></span>add_to_down_q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_to_down_q </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a>&#160;</td>
          <td class="paramname"><em>dst_floor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a floor to the down queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_floor</td><td>The destination floor. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a7591b9779803fca7697b74a7270427d7_cgraph.png" border="0" usemap="#aelevator_8c_a7591b9779803fca7697b74a7270427d7_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a7591b9779803fca7697b74a7270427d7_icgraph.png" border="0" usemap="#aelevator_8c_a7591b9779803fca7697b74a7270427d7_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ac28bd04de895930003c7ff9cb99a80be" name="ac28bd04de895930003c7ff9cb99a80be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28bd04de895930003c7ff9cb99a80be">&#9670;&#160;</a></span>add_to_up_q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_to_up_q </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="floor_8h.html#a5d8e8d0420f1a3c424f13c8492624f4a">floor_t</a>&#160;</td>
          <td class="paramname"><em>dst_floor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a floor to the up queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_floor</td><td>The destination floor. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_ac28bd04de895930003c7ff9cb99a80be_cgraph.png" border="0" usemap="#aelevator_8c_ac28bd04de895930003c7ff9cb99a80be_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_ac28bd04de895930003c7ff9cb99a80be_icgraph.png" border="0" usemap="#aelevator_8c_ac28bd04de895930003c7ff9cb99a80be_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a4a09e7f1ddea08ce376fc9f89d544ada" name="a4a09e7f1ddea08ce376fc9f89d544ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a09e7f1ddea08ce376fc9f89d544ada">&#9670;&#160;</a></span>elevator_scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void elevator_scheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="scheduler_8h.html#a2f698ca92b3c2afe85cf2546cc43a220">s_task_handle_t</a>&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="scheduler_8h.html#a2a69546ed98cb94a52baf9a4421e65b2">s_task_msg_t</a> **&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule and determine the next floor for the elevator to go to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">me</td><td></td></tr>
    <tr><td class="paramname">msg</td><td></td></tr>
    <tr><td class="paramname">arg</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a4a09e7f1ddea08ce376fc9f89d544ada_cgraph.png" border="0" usemap="#aelevator_8c_a4a09e7f1ddea08ce376fc9f89d544ada_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_a4a09e7f1ddea08ce376fc9f89d544ada_icgraph.png" border="0" usemap="#aelevator_8c_a4a09e7f1ddea08ce376fc9f89d544ada_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="afc3c9c97ecd69cf34a393f9261efc0af" name="afc3c9c97ecd69cf34a393f9261efc0af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3c9c97ecd69cf34a393f9261efc0af">&#9670;&#160;</a></span>init_elevator_scheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool init_elevator_scheduler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the elevator scheduler's task. </p>
<dl class="section return"><dt>Returns</dt><dd>true if initialization is successful </dd>
<dd>
false otherwise </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_afc3c9c97ecd69cf34a393f9261efc0af_cgraph.png" border="0" usemap="#aelevator_8c_afc3c9c97ecd69cf34a393f9261efc0af_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_afc3c9c97ecd69cf34a393f9261efc0af_icgraph.png" border="0" usemap="#aelevator_8c_afc3c9c97ecd69cf34a393f9261efc0af_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="aca6de81e1d93d36fee2b97f234082bc1" name="aca6de81e1d93d36fee2b97f234082bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6de81e1d93d36fee2b97f234082bc1">&#9670;&#160;</a></span>reorder_q()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reorder_q </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="elevator_8c.html#acb35f6fa4f53b683e76b07e5322ac037">add_to_q_fn</a>&#160;</td>
          <td class="paramname"><em>add_to_q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reorders a queue. </p>
<p>After changing floors (i.e. the cabin is now at a new floor), we have to reorder the queue's first and second part. These parts are relative to the cabin floor. Since the cabin floor has changed, we have to reassign each floor to the new part it belongs to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>The queue to be reordered. </td></tr>
    <tr><td class="paramname">add_to_q</td><td>The function that adds to the queue. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_aca6de81e1d93d36fee2b97f234082bc1_cgraph.png" border="0" usemap="#aelevator_8c_aca6de81e1d93d36fee2b97f234082bc1_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="elevator_8c_aca6de81e1d93d36fee2b97f234082bc1_icgraph.png" border="0" usemap="#aelevator_8c_aca6de81e1d93d36fee2b97f234082bc1_icgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adcdeec98d71348ec1c46d9b2e514db79" name="adcdeec98d71348ec1c46d9b2e514db79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcdeec98d71348ec1c46d9b2e514db79">&#9670;&#160;</a></span>down_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> down_q = {NULL, NULL}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue containing the going down requests. </p>

</div>
</div>
<a id="a209c92137c3cd525575c520defe4b59d" name="a209c92137c3cd525575c520defe4b59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209c92137c3cd525575c520defe4b59d">&#9670;&#160;</a></span>up_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="elevator_8c.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> up_q = {NULL, NULL}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue containing the going up requests. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li><li class="navelem"><a class="el" href="dir_c898ccd6027d5da3247aa855d21ca2cf.html">src</a></li><li class="navelem"><a class="el" href="dir_18ac01a18bb8b208f27c88345941c779.html">api</a></li><li class="navelem"><a class="el" href="elevator_8c.html">elevator.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
